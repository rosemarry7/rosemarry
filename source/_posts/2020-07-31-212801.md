---
layout: post
title: 「Spring」Spring疑惑与思考
tags: 
- Spring
---

## 概述

一些关于Spring核心的疑问和思考

<!--more-->

## 1.AbstractRefreshableApplicationContext和GenericApplicationContext 父类继承了一个BeanFactory 为什么还要持有一个DefaultListableBeanFactory

|||
|:--:|:--:|
|abstract AbstractRefreshableApplicationContext | class GenericApplicationContext|
|extends↓|extends↓|
|abstract AbstractApplicationContext||
|implements↓||
|interface ConfigurableApplicationContext||
|extends↓|
|interface ApplicationContext|
|extends↓|
|interface ListableBeanFactory|
|extends↓|
|interface BeanFactory|
|||

```java
public class GenericApplicationContext extends AbstractApplicationContext implements BeanDefinitionRegistry {

	private final DefaultListableBeanFactory beanFactory;
}

public abstract class AbstractRefreshableApplicationContext extends AbstractApplicationContext {

	/** Bean factory for this context. */
	@Nullable
	private volatile DefaultListableBeanFactory beanFactory;
}
```

## 2.FactoryBean 到底是做什么用的？

Spring Bean有两种实现,普通Bean(POJO), POJO 一般是通过反射实例化。工厂Bean(FactoryBean)
实现工厂Bean的方法就是pojo继承FactoryBean,并实现他的方法,当容器通过getBean()获取bean时,返回的是实现的getObject()方法所返回的对象。
具体细节需要看源码的注解。

## 3.BeanPostProcessor接口是干什么用的？


